{% extends 'index.html' %}

{% block contenu %}

<br>
<br>
<br>
<div class="container">

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
        Ajouter employes
    </button>

    <!-- Modal -->
    <div class="card">
        <div class="card-header">
            Details des employes
        </div class="card-body">
        <div>
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Prénom</th>
                        <th scope="col">Nom</th>
                        <th scope="col">Email</th>
                        <th scope="col">Fonction</th>
                        <th scope="col">Action</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for employe in employes %}
                    <tr>
                        <td>{{employe.id}} </td>
                        <td>{{employe.prenom}} </td>
                        <td>{{employe.nom}} </td>
                        <td>{{employe.email}} </td>
                        <td>{{employe.fonction}} </td>
                        <td><a class="btn btn-primary" href="{% url 'employeedit' employe.id %}">Editer</a></td>
                        <td><a class="btn btn-danger" href="{% url 'employedelete' employe.id %}">Supprimer</a></td>
                        <td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Ajout Employes</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form action="" method="POST">
                {% csrf_token %}
                <div class="modal-body">
                    <div class="form-group">
                        <label for="prenom">Prénom</label>
                        <input type="text" class="form-control" name="prenom" value="{{form.prenom}}">
                    </div>
                    <div class="form-group">
                        <label for="nom">Nom</label>
                        <input type="text" class="form-control" name="nom" value="{{form.nom}}">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input class="form-control" type="text" name="email" value="{{form.email}}">
                    </div>
                    <div class="form-group">
                        <label for="email">Fontion</label>
                        <input class="form-control" type="text" name="fonction" value="{{form.email}}">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Enregister</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Quitter</button>
                </div>
            </form>
        </div>
    </div>
</div>
</form>
{% endblock %}